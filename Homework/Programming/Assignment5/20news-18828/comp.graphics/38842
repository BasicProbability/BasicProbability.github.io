From hollaschkpccom Steve Hollasch
Subject Re Raytracing Colours

asecchiacsuctacza Adrian Secchia writes
 When an incident ray I strikes an object at point P   The reflected
 ray R and the transmitted ray T is calculated from the formulae
 
 Calling the routine recursively on R and T will return the colours 
 along the rays R and T as rCol and tCol Each object has its own
 colour oCol and each light source has liCol 1  i  n
 
 The question is 
   How do you combine rCol tCol oCol and all the liCols to get
   the correct resulting colour to return along the I ray

    First of all this is NOT a snide response if youre confused about
this issue you will stumble over a lot of other things as well  I suggest
that the weakness is your reference material  Get An Introduction to Ray
Tracing by Andrew Glassner for very good coverage of the raytracing
algorithm  You could also refer to the 2nd edition of Foley  Van Dam

    On to the question  The simple answer is that you just keep adding up
all the contributions and then clamping at the maximum intensity  For
example if your intensity values range from 00 to 10 then keep adding up
and clamp the resultant values to 10 you might have to clamp the lower
bound to 00 if you have dark bulbs but thats another issue   So you
get some illumination equation like this

        I  Lambient  Ldiffuselightn  Lreflected  Ltransparent

    The contribution due to reflection is just summed with the light
intensity as is the light due to transparency  Now a slightly less
handwaving illumination equation is this

        I  KaLa  KdLdlightn  KrLr  KtLt

    That is each component of the illumination equation is governed by the
material constants Ka Kd Kr and Kt  So the maximum you can get from
transparency for a given object for example might be 04 01 05 for a
purplecolored glass object

    Hopefully this answers your question  Ill forward my illumination
equation sermon to you also


Steve Hollasch                                   Kubota Pacific Computer Inc
hollaschkpccom                                 Santa Clara California
