From whaleysigmakpccom Ken Whaley
Subject Re XCopyPlane Question

 
 I am trying to use XCopyPlane to copy a single plane 
 from a depth8 pixmap to a depth1 pixmap  Everytime I
 try this I see absolutely nothing displayed  I know there
 is data in the depth8 pixmap becuase I have checked by doing
 an XCopyArea to the screen
 
 I have been successful getting XCopyPlane to work if I use
 two pixmaps of depth8  Is there a problem with what I am
 trying to do
 
 Could someone please scan my code segment and let me know
 where I am going wrong
 
 I have created a XmDrawingArea widget called canvas 
  
     wid  XtWindowcanvas
     display  XtDisplaycanvas
     screen  DefaultScreen display
     pixmap8  XCreatePixmap display RootWindow display screen
                     wwidth wheight DefaultDepth display screen
     pixmap1  XCreatePixmap display RootWindow display screen
                     wwidth wheight 1
 
     wgc8  XCreateGC display wid 0 NULL
     wgc1  XCreateGC display pixmap1 0 NULL
 
  Code to read xwd image into pixmap8 is omitted 
 

Have you set the foreground and background colors in wgc1 to 
something other than 0 and 1  The WhitePixel and BlackPixel macros
on your server may not return values suitable for depth 1 drawables


      Copy one plane into the depth1 pixmap 
     XCopyPlane display pixmap8 pixmap1
                 wgc1 0 0 wwidth wheight 0 0 16
 

Are you sure that the fifth plane of the data isnt all the same  You could
have different pixel values in the image but the fifth plane 0x10  16
might all be the same value


      Using the depth1 pixmap as the clipmask copy it to the screen 
     valuesforeground  fgcolor
     valuesclipxorigin  0
     valuesclipyorigin  0
     valuesclipmask  pixmap1
     mask  GCForeground  GCClipMask
     XChangeGC display wgc8 mask values
 
     XFillRectangle display wid wgc8 0 0 wwidth wheight
 


If you just want to see the plane of data and want better performance
dont use ClipMasks just use pixmap1 as the stipple in a stippled
rectangle fill  Many servers are very stupid about handling complex
clip lists and turn a bitmap clip region into hundreds and hundreds of
little clipping rectangles and clips every drawing primitive against every
one of these little triangles


Actually I must also ask the FAQs 1 most popular reason why graphics
dont show up do you wait for an expose event before drawing your
rectangle



 Other Info  X11R5 Patchlevel 10
              Motif 121
              Sun Sparc2 running SunOS 411
              
 
 Thanks in Advance
 
  
  Nancie P Marin      NET  nancienekocssgov
  ENSCO Inc           MAIL 445 Pineda Ct  Melbourne Fl  32940
  4072544122        FAX  4072543293
  

Kenneth Whaley			 408 7486347
Kubota Pacific Computer Inc	 Email whaleykpccom
2630 Walsh Avenue
Santa Clara CA  95051
