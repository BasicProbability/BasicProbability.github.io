From mcgaryintellectioncom Mike McGary
Subject Re Keyboard mapping and window placement questions

In article 1993Apr271829123388newsmentorgcom darcymfpddet4mentorgcom Darcy McCallum writes

   These are two common subjects so I hope someone has had to deal with these
   specific questions

   1  question 1 deleted

   2  I would like to place a popup so that it will be to the immediate right
   of my main window  I want it at the same y coord and their rightleft
   sides touching  What I need to ask for is the xy coord of the window 
   managers border for the main window  This should ring a bell with anyone
   who has called XtMoveWidget immediately checking the xy after the move
   and seeing that it is right and in their next callback asking for the xy
   and seeing that it is now offset by the WM border

   Any help would be most appreciated

   Darcy
   darcymccallummentorgcom

I have done this before but Im not sure I used the best approach although
I tried several methods

You have to run up the window heirarchy using XQueryTree until you get
to the root window  Now this is not so simple because some window managers
slap a window over the root window that is the same size as the root window
so be sure to take that into account for further calculations

Calculate the position and widthheight offsets for each window using
XGetGeometry  BE SURE TO TAKE THE BORDERWIDTH INTO CONSIDERATION
Remember a windows borderwidth IS ON THE OUTSIDE of a window so the
windows xywidthheight must be adjusted accordingly

All of this should give you pretty good numbers for how much space the
windowmanager is using

Now to place the new window you have to use the same numbers to calculate 
where you want to place it because the windowmanager will reparent it on
the OUTSIDE of where you place your window if I remember correctly

DISCLAIMER All of this is from memory and I no longer have the code  But
I did get it working under several window managers correctly  Feel free to
call or email for further info

              McGary

 
Mike D McGary                VOICE 214 6202100
Intellection                  FAX   214 4848110
1603 LBJ Freeway Suite 780   ARPA  mcgaryintellectioncom
Dallas Texas 75234           UUCP  intellectioncommcgarycsutexasedu
