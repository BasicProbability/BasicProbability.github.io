From dougfoxtrotccmrcucsbedu Douglas Scott
Subject Help with porting screensaver function

This is a question aimed at those who have done some server code hacking



I am attempting to add a working SaveScreen function to a new
server  I have been able to get the screen to blank out properly and through
debugging I can see that my savescreen function is being called with on0
which for some arcane reason means to blank the screen

My problem is that this function is never being called again with on1 even
after I have moved the mouse andor typed some keys  My question is  what am
I likely to be missing that would cause this problem  I copied the basic
design of my function from the existing versions

static Bool nextsavescreenscron
ScreenPtr scr
Bool on


   this was copied from the omron server code  is it the right way 
  if on  SCREENSAVERON 
		nextSetLastEventTime
  

  if on  SCREENSAVERON   Save users current setting 
		nextsavescreenbrightness  NXScreenBrightnessmyeventhandle
		NXSetScreenBrightness myeventhandle 00  Blank the screen 
  
  else 											  Unblank the screen 
		NXSetScreenBrightness myeventhandle nextsavescreenbrightness
  

  return TRUE


I can see in the serveros code where the screensaver is called to turn on the
saver but I cannot find where it wakes up the server and unblanks the
screen

Any tipshelp would be appreciated

Thanks


 
Douglas Scott                              8058938352
Center for Computer Music Research and Composition
University of California Santa Barbara
Internet NeXTMail ok   dougfoxtrotccmrcucsbedu
